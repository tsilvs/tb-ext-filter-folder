# Email to path mapping

Email to folder mapping rules:

1. `username@subdomain.domain.tld` is equivalent to `tld/domain/subdomain/username`
2. `username@domain.tld` is equivalent to `tld/domain/username`

Folder to Email mapping rules:

1. `${root}/tld/domain/subdomain/username` is equivalent to `username@subdomain.domain.tld`
2. `${root}/tld/domain/username` is equivalent to `username@domain.tld`

So, leafs are always `username`, and root subdirs are always `tld`.

# Missing rule discovery

New feature: missing rules discovery.

1. Let User specify a root directory for discovery.
2. Look for all senders who are not the current user in this root that don't have a filter rule for them yet.
3. List discovered emails in a form with a list allowing to associate each discovered email with it's new root.

# Association discovery

Also support association discovery strategies:

## 1

In `msgFilterRules.dat`, match `condition="AND (from,contains,username@subdomain.domain.tld)"` to `action="Move to folder"\nactionValue="imap://currentuser%40maildomain@imap.maildomain/spceial/root/path/tld/domain/subdomain/username"` to extract `special/root/path`

## 2

1. Let User specify a root directory for discovery.
2. Recognize the roots and "email paths" from existing subpaths and existing emails.

# Config & Memory

Eventually, I want to have `email to root` mappings, populated from existing directories and from missing directories.
